[buildout]
extends =
    etc/base.cfg
    etc/versions.cfg
    etc/dev-src.cfg
    etc/solr.cfg
    etc/zeo.cfg
    etc/deliverance.cfg

# https://good-py.appspot.com/release/dexterity/1.0-next

include-site-packages = false
extensions += mrs.developer
#parts += ipy py i18ndude
parts += py i18ndude omelette

[deliverance-init]
root-dir = ${buildout:directory}

[instance]
user = admin:admin
http-address = 8080
debug-mode = on
#verbose-security = on
deprecation-warnings = on

environment-vars +=
    PYTHON_EGG_CACHE ${buildout:directory}/var/.python-eggs
    TMPDIR ${buildout:directory}/var/tmp

eggs +=
    Products.DocFinderTab
    plone.reload
#    Products.Clouseau
#    collective.portlet.debuginfo
#    iw.debug

zcml +=
    plone.reload
#    collective.portlet.debuginfo
#    iw.debug

[client1]
user = ${instance:user}

[i18ndude]
unzip = true
recipe = zc.recipe.egg
eggs = i18ndude

[omelette]
recipe = collective.recipe.omelette
eggs = ${instance:eggs}

[ipy]
recipe = zc.recipe.egg
eggs =
    ipython
    ${instance:eggs}
initialization =
    import sys, os
    os.environ["INSTANCE_HOME"] = "${instance:location}"
    sys.argv[1:1] = "-p zope".split()

[py]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
interpreter = py
