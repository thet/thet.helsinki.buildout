[buildout]
extends =
    etc/base.cfg
    etc/dev-src.cfg

parts +=
    ipy
    py

[instance]
user = admin:admin
http-address = 8080
debug-mode = on
blob-storage = var/blobstorage
verbose-security = on
deprecation-warnings = off

eggs +=
    Products.Clouseau
    Products.DocFinderTab
    collective.portlet.debuginfo
    plone.reload
    iw.debug

zcml +=
    collective.portlet.debuginfo
    plone.reload
    iw.debug

environment-vars +=
    PYTHON_EGG_CACHE ${buildout:directory}/var/.python-eggs
    TMPDIR ${buildout:directory}/var/tmp


[ipy]
recipe = zc.recipe.egg
eggs =
    ipython
    ${instance:eggs}
initialization =
    import sys, os
    os.environ["SOFTWARE_HOME"] = "${zope2:location}/lib/python"
    os.environ["INSTANCE_HOME"] = "${instance:location}"
    sys.argv[1:1] = "-p zope".split()
    extra-paths = ${zope2:location}/lib/python
    scripts = ipython=ipy


[py]
recipe = zc.recipe.egg
eggs = ${instance:eggs}
interpreter = py
